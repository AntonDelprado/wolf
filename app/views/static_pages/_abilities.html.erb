<h2>Abilities</h2>

<p>Abilities are miscellaneous strengths that a character is trained in or naturally possesses. Unlike skills, abilities do not have a level and so a character either possesses an ability or not.</p>

<p>Characters use their synergy bonuses to purchase abilities. Purchasing abilities does not reduce the bonus to skills that synergies supply. Abilities are either tied to a synergy or are classless. Classless abilities cost two synergy points. Abilities with a synergy class cost two synergy points of that class or three of any other classes. Every characcter gets one skill for free that may be of any class.</p>

<h2>Abilities List</h2>

<% Ability.every.sort_by { |ability| ability.name }.each do |ability| %>
	<div class="well ability <%= ability.synergy_css %>">
		<div class="row">
			<div class="offset2 span5 center">
				<h3><%= ability.name %></h3>
				<%= "Requires: #{ability.requires}<br/> ".html_safe if ability.requires %>
			</div>
		</div>

		<%= parse_text_xml(ability.text).html_safe %>

		<div class="row">
			<div class="span5 offset2 center">
				<% if signed_in? and not current_user.characters.empty? %>
					<div class='btn-group' style='display:inline-block;'>
						<a class='btn btn-small btn-primary span2 dropdown-toggle' data-toggle='dropdown' href='#'>
							Add Ability to: &nbsp;<span class='caret'/>
						</a>
						<ul class='dropdown-menu'>
							<% current_user.characters.each do |character| %>
								<li><%= link_to character.name, abilities_character_path(character, ability.name_tag('add') => 'ability to add'), method: :put %></li>
							<% end %>
						</ul>
					</div>
				<% end %>
			</div>
			<span style="float:right"><%= "Synergy: #{ability.synergy_name}" if ability.has_synergy? %></span>
		</div>
	</div>
<% end %>
